{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Система контроля курсов повышения квалификации</title>
    <link rel="stylesheet" href="{% static 'app/css/style.css' %}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Система контроля курсов повышения квалификации</h1>
            <p>АО "КОНСИСТ" - Учет дополнительного профессионального образования</p>
        </header>

            {% if success %}
            <div class="success-message" id="successMessage">
                Данные успешно отправлены!
            </div>
            {% else %}

                {% if database_error_message != "" %}
                <div class="failure-message" id="failureMessage">
                    {{database_error_message}}
                </div>
                {% endif %}

            {% endif %}
        <div class="form-container">
            <form id="employeeForm" method="POST" action="{% url 'submit_data' %}">
                {% csrf_token %}
                
        <div class="form-group">
            <label class="required">ФИО сотрудника</label>
            <div class="fio-row">
                <div class="fio-field">
                    <input type="text" id="lastName" name="lastName" placeholder="Фамилия" required>
                    <div class="error-message" id="lastNameError">Поле фамилии обязательно</div>
                </div>
                <div class="fio-field">
                    <input type="text" id="firstName" name="firstName" placeholder="Имя" required>
                    <div class="error-message" id="firstNameError">Поле имени обязательно</div>
                </div>
                <div class="fio-field">
                    <input type="text" id="middleName" name="middleName" placeholder="Отчество">
                </div>
            </div>
        </div>

                <div class="form-group">
                    <label for="position">Должность сотрудника</label>
                    <input type="text" id="position" name="position">
                    <div class="error-message" id="positionError">Поле должности обязательно для заполнения</div>
                </div>

                <div class="form-group">
                    <label for="email">Email сотрудника</label>
                    <input type="email" id="email" name="email">
                    <div class="error-message" id="emailError">Введите корректный email адрес</div>
                </div>

                <div class="form-group">
                    <label for="course" class="required">Курс повышения квалификации</label>
                    <select id="course" name="course" required>
                        <option value="">Выберите курс</option>
                        {% for course in courses %}
                            <option value="{{ course }}"> {{ course }} </option>
                        {% endfor %}
                    </select>
                    <div class="error-message" id="courseError">Выберите курс из списка</div>
                </div>

                <div class="form-group">
                    <label for="startDate" class="required">Дата начала курса</label>
                    <input type="date" id="startDate" name="startDate" required>
                    <div class="error-message" id="startDateError">Укажите дату начала курса</div>
                </div>

                <div class="form-group">
                    <label for="endDate" class="required">Дата окончания курса</label>
                    <input type="date" id="endDate" name="endDate" required>
                    <div class="error-message" id="endDateError">Укажите дату окончания курса</div>
                </div>


                <div class="button-group">
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        Отправить данные
                    </button>
                    <button type="button" class="btn btn-secondary" id="clearBtn">
                        Очистить форму
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="{% static 'app/js/script.js' %}"></script>
</body>
</html>