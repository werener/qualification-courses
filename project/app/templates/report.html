{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –ø–æ –∫—É—Ä—Å–∞–º</title>
    <link rel="stylesheet" href="{% static 'app/css/report.css' %}">
</head>
<body>
    <div class="container">
        <h1>üìä –°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –ø–æ –∫—É—Ä—Å–∞–º</h1>
        <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ—Ç—á–µ—Ç–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</p>

        <form id="reportForm" action="{% url 'visualization' %}" method="POST">
            {% csrf_token %}
            <!-- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –æ—Ç—á–µ—Ç–∞ -->
            <div class="form-section">
                <h2>1. –¢–∏–ø –æ—Ç—á–µ—Ç–∞</h2>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="report1" name="report_type" value="general_dynamics" checked>
                        <label for="report1">
                            <strong>–û–±—â–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞</strong>
                            <span class="description">–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏</span>
                        </label>
                    </div>
                    
                    <div class="radio-item">
                        <input type="radio" id="report2" name="report_type" value="course_effectiveness">
                        <label for="report2">
                            <strong>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫—É—Ä—Å–æ–≤</strong>
                            <span class="description">–†–µ–π—Ç–∏–Ω–≥ –∫—É—Ä—Å–æ–≤ –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é</span>
                        </label>
                    </div>
                    
                    <div class="radio-item">
                        <input type="radio" id="report3" name="report_type" value="audience_analysis">
                        <label for="report3">
                            <strong>–ê–Ω–∞–ª–∏–∑ –∞—É–¥–∏—Ç–æ—Ä–∏–∏</strong>
                            <span class="description">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª–µ–π –ø–æ –æ—Ç–¥–µ–ª–∞–º –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º</span>
                        </label>
                    </div>
                    
                    <div class="radio-item">
                        <input type="radio" id="report4" name="report_type" value="geographic_time">
                        <label for="report4">
                            <strong>–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑</strong>
                            <span class="description">–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º –∏ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</span>
                        </label>
                    </div>
                    
                    <div class="radio-item">
                        <input type="radio" id="report5" name="report_type" value="planning_forecast">
                        <label for="report5">
                            <strong>–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞</strong>
                            <span class="description">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤—ã—Ö –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- –í—ã–±–æ—Ä –∫—É—Ä—Å–æ–≤ -->
            <div class="form-section">
                <h2>2. –í—ã–±–æ—Ä –∫—É—Ä—Å–æ–≤</h2>
                <div class="courses-grid">
                    {% for course in courses %}
                    <div class="course-checkbox" id="'checkboxes">
                        <input type="checkbox" id="course {{ course }}" name="selected_courses" checked>
                        <label for="course {{ course }}">{{ course }}</label>
                    </div>
                    {% endfor %}
                </div>
                <div class="form-actions">
                    <button type="button" id="selectAll" class="btn-secondary">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
                    <button type="button" id="deselectAll" class="btn-secondary">–°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ</button>
                </div>
            </div>

            <!-- –í—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ -->
            <div class="form-section">
                <h2>3. –í—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫</h2>
                <div class="date-range">
                    <div class="date-input">
                        <label for="start_date">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label>
                        <input type="date" id="start_date" name="start_date" value="{{ default_start_date }}" required>
                    </div>
                    <div class="date-input">
                        <label for="end_date">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
                        <input type="date" id="end_date" name="end_date" value="{{ default_end_date }}" required>
                    </div>
                </div>
                <div class="quick-dates">
                    <button type="button" data-days="7" class="btn-quick">–ù–µ–¥–µ–ª—è</button>
                    <button type="button" data-days="30" class="btn-quick">–ú–µ—Å—è—Ü</button>
                    <button type="button" data-days="90" class="btn-quick">–ö–≤–∞—Ä—Ç–∞–ª</button>
                    <button type="button" data-days="365" class="btn-quick">–ì–æ–¥</button>
                </div>
            </div>

            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
            <div class="form-section">
                <h2>4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
                <div class="additional-params">
                    <div class="param-group">
                        <label for="group_by">–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞:</label>
                        <select id="group_by" name="group_by">
                            <option value="day">–ü–æ –¥–Ω—è–º</option>
                            <option value="week">–ü–æ –Ω–µ–¥–µ–ª—è–º</option>
                            <option value="month">–ü–æ –º–µ—Å—è—Ü–∞–º</option>
                            <option value="quarter">–ü–æ –∫–≤–∞—Ä—Ç–∞–ª–∞–º</option>
                        </select>
                    </div>
                    
                    <div class="param-group">
                        <label for="chart_type">–¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞:</label>
                        <select id="chart_type" name="chart_type">
                            <option value="line">–õ–∏–Ω–µ–π–Ω—ã–π</option>
                            <option value="bar">–°—Ç–æ–ª–±—á–∞—Ç—ã–π</option>
                            <option value="pie">–ö—Ä—É–≥–æ–≤–æ–π</option>
                            <option value="area">–û–±–ª–∞—Å—Ç–Ω–æ–π</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="form-actions main-actions">
                <button type="submit" class="btn-primary">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç</button>
                <button type="button" id="previewBtn" class="btn-secondary">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                <button type="button" id="resetBtn" class="btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
        </form>
    </div>
    <script src="{% static 'app/js/report.js' %}"></script>
</body>
</html>