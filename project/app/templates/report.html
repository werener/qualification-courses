{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –ø–æ –∫—É—Ä—Å–∞–º</title>
    <link rel="stylesheet" href="{% static 'app/css/report.css' %}">
</head>
<body>
    <div class="container">
        <h1>üìä –°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –ø–æ –∫—É—Ä—Å–∞–º</h1>
        <form id="reportForm" action="{% url 'visualization' %}" method="POST">
            {% csrf_token %}
            <!-- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –æ—Ç—á–µ—Ç–∞ -->
            <div class="form-section">
                <h2>1. –¢–∏–ø –æ—Ç—á–µ—Ç–∞</h2>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="report1" name="report_type" value="completion_dynamics" checked>
                        <label for="report1">
                            <strong>–î–∏–Ω–∞–º–∏–∫–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π –∫—É—Ä—Å–æ–≤</strong>
                            <span class="description">–ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∫—É—Ä—Å–∞</span>
                        </label>
                        
                    </div>
                    
                    <div class="radio-item">
                        <input type="radio" id="report2" name="report_type" value="course_popularity_month">
                        <label for="report2">
                            <strong>–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∫—É—Ä—Å–æ–≤ (–ø–æ –º–µ—Å—è—Ü–∞–º)</strong>
                            <span class="description">–ì—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π –∑–∞–Ω—è—Ç–∏–π –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ </span>
                        </label>
                    </div>
                    
                    <div class="radio-item">
                        <input type="radio" id="report3" name="report_type" value="course_popularity_week">
                        <label for="report3">
                            <strong>–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∫—É—Ä—Å–æ–≤ (–ø–æ –Ω–µ–¥–µ–ª—è–º)</strong>
                            <span class="description">–ì—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π –∑–∞–Ω—è—Ç–∏–π –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫</span>
                        </label>
                    </div>
                    
                    <div class="radio-item">
                        <input type="radio" id="report4" name="report_type" value="courses_by_position">
                        <label for="report4">
                            <strong>–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –ø–æ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º</strong>
                            <span class="description">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –ø–æ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º</span>
                        </label>
                    </div>
                    
                </div>

            <!-- –¢–∏–ø –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                <br></br>
                <div class="chart-type">
                    <div class="param-group">
                        <label for="chart_type">–¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞:</label>
                        <select id="chart_type" name="chart_type">
                            <option value="line">–õ–∏–Ω–µ–π–Ω—ã–π</option>
                            <option value="bar">–°—Ç–æ–ª–±—á–∞—Ç—ã–π</option>
                            <option value="pie">–ö—Ä—É–≥–æ–≤–æ–π</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- –í—ã–±–æ—Ä –∫—É—Ä—Å–æ–≤ -->
            <div class="form-section">
                <h2>2. –í—ã–±–æ—Ä –∫—É—Ä—Å–æ–≤</h2>
                <div class="courses-grid">
                    {% for course in courses %}
                    <div class="course-checkbox" id="'checkboxes" name="courses">
                        <input type="checkbox" id="course {{ course }}" name="{{ course }}" checked>
                        <label for="course {{ course }}">{{ course }}</label>
                    </div>
                    {% endfor %}
                </div>
                <div class="form-actions">
                    <button type="button" id="selectAll" class="btn-secondary">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
                    <button type="button" id="deselectAll" class="btn-secondary">–°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ</button>
                </div>
            </div>

            <!-- –í—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ -->
            <div class="form-section">
                <h2>3. –í—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫</h2>
                <div class="date-range">
                    <div class="date-input">
                        <label for="start_date">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label>
                        <input type="date" id="start_date" name="start_date" value="{{ default_start_date }}" required>
                    </div>
                    <div class="date-input">
                        <label for="end_date">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
                        <input type="date" id="end_date" name="end_date" value="{{ default_end_date }}" required>
                    </div>
                </div>
                <div class="quick-dates">
                    <button type="button" data-days="7" class="btn-quick">–ù–µ–¥–µ–ª—è</button>
                    <button type="button" data-days="30" class="btn-quick">–ú–µ—Å—è—Ü</button>
                    <button type="button" data-days="90" class="btn-quick">–ö–≤–∞—Ä—Ç–∞–ª</button>
                    <button type="button" data-days="365" class="btn-quick">–ì–æ–¥</button>
                </div>
            </div>



            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="form-actions main-actions">
                <button type="submit" class="btn-primary">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç</button>
                <button type="button" id="previewBtn" class="btn-secondary">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                <button type="button" id="resetBtn" class="btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
        </form>
    </div>
    <script src="{% static 'app/js/report.js' %}"></script>
</body>
</html>